<html>

<head>
    <style type="TEXT/CSS">
        .oggetto {
            position: absolute;
            background-color: rgb(200, 0, 0);
            color: white;
            height: 90px;
            width: 90px;
            text-align: center;
            font-size: 15px;
        }

        .mosse {
            position: absolute;
            background-color: rgb(0, 0, 150);
            color: white;
            height: 50px;
            width: 50px;
            text-align: center;
            font-size: 12px;
        }

        .mosseg {
            position: absolute;
            background-color: rgb(255, 255, 0);
            color: black;
            height: 50px;
            width: 50px;
            text-align: center;
            font-size: 12px;
        }
    </style>
</head>

<body>
    <button id="aggiungiSquadra">Aggiungi Squadra</button>
    <button id="aggiungiGiocatore">Aggiungi Giocatore</button>

    <script>
        let webSocket = new WebSocket("ws://localhost:8080");

        webSocket.onmessage = (event) => {
            const data = JSON.parse(event.data);
            console.log(data);
        };

        document.getElementById("aggiungiSquadra").addEventListener("click", () => {
            const nomeSquadra = prompt("Inserisci il nome della squadra:");
            if (nomeSquadra) {
                const message = JSON.stringify({
                    type: "inserisci_squadra",
                    nome: nomeSquadra
                });
                webSocket.send(message);
            }
        });

        document.getElementById("aggiungiGiocatore").addEventListener("click", () => {
            const squadra_id = prompt("Inserisci l'ID della squadra:");
            const nomeGiocatore = prompt("Inserisci il nome del giocatore:");
            const cognomeGiocatore = prompt("Inserisci il cognome del giocatore:");
            const dataNascitaGiocatore = prompt("Inserisci la data di nascita del giocatore (YYYY-MM-DD):");
            const nazionalitaGiocatore = prompt("Inserisci la nazionalit√† del giocatore:");
            
            if (squadra_id && nomeGiocatore && cognomeGiocatore && dataNascitaGiocatore && nazionalitaGiocatore) {
                const message = JSON.stringify({
                    type: "inserisci_giocatore",
                    squadra_id: parseInt(squadra_id),
                    nome: nomeGiocatore,
                    cognome: cognomeGiocatore,
                    data_nascita: dataNascitaGiocatore,
                    nazionalita: nazionalitaGiocatore
                });
                webSocket.send(message);
            }
        });
    </script>
</body>

</html>
